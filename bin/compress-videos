#!/usr/bin/env bash

# Create the output directory if it doesn't exist
mkdir -p compressed

# Loop through all supported media files
for file in *.{mp4,mov,ts}; do
    # Check if the file exists (to avoid errors if no files match the pattern)
    if [[ -f "$file" ]]; then
        # Compress the video and save it in the "compressed" directory with the same name
        ffmpeg -i "$file" -c:v libx264 -crf 35 "./compressed/$file"
    fi
done
